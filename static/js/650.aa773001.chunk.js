"use strict";(self.webpackChunknetflix_app=self.webpackChunknetflix_app||[]).push([[650],{9365:function(e,t,a){var n=a(4165),r=a(5861),s=a(1413),i=a(9439),o=a(2791),c=a(3995),l=a(6355),u=a(644),d=a(184),p=u.d.base_url,g=u.d.API_KEY,f=function(e){var t=(0,o.useState)("select genre"),a=(0,i.Z)(t,2),u=a[0],f=a[1],v=(0,c.i)().sendRequest,m=e.onToggleGenres,_=e.onDiscoverGenres,h=e.genresList,y=e.isGenre,x=e.mediaType,Z=e.sortValue,S=e.year,j=function(e,t){var a=t.results.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{media_type:x})}));_({results:a,genreId:"&with_genres=".concat(e),totalPages:t.total_pages>=500?500:t.total_pages})},E=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(a),v({url:"".concat(p,"discover/").concat(x,"?api_key=").concat(g).concat(Z).concat(S,"&with_genres=").concat(t,"\n        &with_watch_monetization_types=flatrate")},j.bind(null,t)),m();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:"filter_item",children:[(0,d.jsxs)("div",{className:"select_menu",children:[(0,d.jsx)("span",{className:"menu_label",children:"genres"}),(0,d.jsxs)("button",{type:"button",className:"toggle ".concat(y?"active":""),onClick:m,children:[(0,d.jsx)("span",{children:u}),(0,d.jsx)(l.RiI,{})]})]}),y&&(0,d.jsx)("ul",{className:"dropdown_list",children:h.map((function(e){var t=e.id,a=e.name;return(0,d.jsx)("li",{className:"dropdown_item",onClick:function(){return E(t,a)},children:a},t)}))})]})};t.Z=o.memo(f)},1890:function(e,t,a){var n=a(4165),r=a(5861),s=a(1413),i=a(9439),o=a(2791),c=a(3995),l=a(6355),u=a(644),d=a(184),p=u.d.base_url,g=u.d.API_KEY,f=["popularity","release date","revenue","primary release date","vote average","vote count"],v=function(e){var t=(0,o.useState)("popularity"),a=(0,i.Z)(t,2),u=a[0],v=a[1],m=(0,c.i)().sendRequest,_=e.onToggleSortList,h=e.onSortData,y=e.isSort,x=e.mediaType,Z=e.year,S=e.genre,j=function(e,t){var a=t.results.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{media_type:x})}));h({results:a,sortValue:e,totalPages:t.total_pages>=500?500:t.total_pages})},E=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(t),a="&sort_by=".concat(t.split("").map((function(e){return e.includes(" ")?e="_":e})).join(""),".desc"),m({url:"".concat(p,"discover/").concat(x,"?api_key=").concat(g).concat(a,"&year=").concat(Z,"\n        ").concat(S,"&with_watch_monetization_types=flatrate")},j.bind(null,a)),_();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:"filter_item",children:[(0,d.jsxs)("div",{className:"select_menu",children:[(0,d.jsx)("span",{className:"menu_label",children:"sort by"}),(0,d.jsxs)("button",{type:"button",className:"toggle ".concat(y?"active":""),onClick:_,children:[(0,d.jsx)("span",{children:u}),(0,d.jsx)(l.RiI,{})]})]}),y&&(0,d.jsx)("ul",{className:"dropdown_list",children:f.map((function(e){return(0,d.jsx)("li",{className:"dropdown_item",onClick:function(){return E(e)},children:e},e)}))})]})};t.Z=o.memo(v)},8172:function(e,t,a){var n=a(4165),r=a(5861),s=a(1413),i=a(9439),o=a(2791),c=a(3995),l=a(6355),u=a(644),d=a(184),p=u.d.base_url,g=u.d.API_KEY;var f=function(e){var t=(0,o.useState)("select year"),a=(0,i.Z)(t,2),u=a[0],f=a[1],v=(0,c.i)().sendRequest,m=e.onToggleYears,_=e.onSelectYear,h=e.isYear,y=e.mediaType,x=e.sortValue,Z=e.genre,S=function(e){for(var t=[],a=e;a<=2023;a++)t.unshift(a);return t}(e.startYear),j=function(e,t){var a=t.results.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{media_type:y})}));_({results:a,year:e,totalPages:t.total_pages>=500?500:t.total_pages})},E=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t),a="movie"===y?"&year=".concat(t):"&first_air_date_year=".concat(t),v({url:"".concat(p,"discover/").concat(y,"?api_key=").concat(g).concat(x).concat(a,"\n        ").concat(Z,"&with_watch_monetization_types=flatrate")},j.bind(null,a)),m();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:"filter_item",children:[(0,d.jsxs)("div",{className:"select_menu",children:[(0,d.jsx)("span",{className:"menu_label",children:"year"}),(0,d.jsxs)("button",{type:"button",className:"toggle ".concat(h?"active":""),onClick:m,children:[(0,d.jsx)("span",{children:u}),(0,d.jsx)(l.RiI,{})]})]}),h&&(0,d.jsx)("ul",{className:"dropdown_list",children:S.map((function(e){return(0,d.jsx)("li",{className:"dropdown_item",onClick:function(){return E(e)},children:e},e)}))})]})};t.Z=o.memo(f)},9945:function(e,t,a){a.d(t,{m:function(){return n},u:function(){return r}});var n={isSort:!1,isGenre:!1,isYear:!1},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_SORT"===t.type?{isSort:!e.isSort,isGenre:!1,isYear:!1}:"TOGGLE_GENRES"===t.type?{isSort:!1,isGenre:!e.isGenre,isYear:!1}:"TOGGLE_YEARS"===t.type?{isSort:!1,isGenre:!1,isYear:!e.isYear}:e}},4820:function(e,t,a){var n=a(134),r=a(184);t.Z=function(e){return(0,r.jsx)("section",{className:"discover_root",children:(0,r.jsx)(n.Z,{children:e.children})})}},2029:function(e,t,a){var n=a(184);t.Z=function(e){var t=e.children;return(0,n.jsx)("div",{className:"grid_layout",children:t})}},2330:function(e,t,a){var n=a(6048),r=a.n(n),s=a(7692),i=a(184);t.Z=function(e){return(0,i.jsx)("div",{className:"pagination_container",children:(0,i.jsx)(r(),{previousLabel:(0,i.jsx)(s.Wpx,{fontSize:"20px"}),nextLabel:(0,i.jsx)(s.Cou,{fontSize:"20px"}),breakLabel:"...",pageCount:e.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:1,containerClassName:"pagination",onPageChange:e.onPageChange,pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item break",breakLinkClassName:"page-link",ariaLabelBuilder:e.currentPage})})}},4650:function(e,t,a){a.r(t),a.d(t,{default:function(){return T},tvSeriesGenresLoader:function(){return L}});var n=a(4165),r=a(5861),s=a(7689),i=a(3924),o=a(4820),c=a(1413),l=a(9439),u=a(2791),d=a(3995),p={tvSeriesList:[],sortBy:"",genre:"",year:"",totalPages:0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return"FETCH_TV_SERIES"===t.type||"PAGE_CHANGE"===t.type?(0,c.Z)((0,c.Z)({},e),{},{tvSeriesList:t.data.results,totalPages:t.data.totalPages}):"SORT_BY"===t.type?(0,c.Z)((0,c.Z)({},e),{},{tvSeriesList:t.data.results,sortBy:t.data.sortValue,totalPages:t.data.totalPages}):"DISCOVER_GENRES"===t.type?(0,c.Z)((0,c.Z)({},e),{},{tvSeriesList:t.data.results,genre:t.data.genreId,totalPages:t.data.totalPages}):"SELECT_YEAR"===t.type?(0,c.Z)((0,c.Z)({},e),{},{tvSeriesList:t.data.results,year:t.data.year,totalPages:t.data.totalPages}):e},f=u.createContext(),v=a(644),m=a(184),_=v.d.base_url,h=v.d.API_KEY,y=function(e){var t=e.children,a=(0,u.useReducer)(g,p),n=(0,l.Z)(a,2),r=n[0],s=n[1],i=(0,d.i)().sendRequest,o={tvSeriesList:r.tvSeriesList,sortBy:r.sortBy,genre:r.genre,year:r.year,totalPages:r.totalPages,pageChange:function(e){s({type:"PAGE_CHANGE",data:e})},handleSortTvSeries:function(e){s({type:"SORT_BY",data:e})},discoverGenresHandler:function(e){s({type:"DISCOVER_GENRES",data:e})},selectYearHandler:function(e){s({type:"SELECT_YEAR",data:e})}};return(0,u.useEffect)((function(){i({url:"".concat(_,"/discover/tv?api_key=").concat(h,"&with_watch_monetization_types=flatrate")},(function(e){var t=e.results.map((function(e){return(0,c.Z)((0,c.Z)({},e),{},{media_type:"tv"})}));s({type:"FETCH_TV_SERIES",data:{results:t,totalPages:e.total_pages>=500?500:e.total_pages}})}))}),[i]),(0,m.jsx)(f.Provider,{value:o,children:t})},x=a(9945),Z=a(1890),S=a(9365),j=a(8172),E=function(e){var t=(0,u.useReducer)(x.u,x.m),a=(0,l.Z)(t,2),n=a[0],r=a[1],s=(0,u.useContext)(f),i=(0,u.useCallback)((function(){r({type:"TOGGLE_SORT"})}),[]),o=(0,u.useCallback)((function(){r({type:"TOGGLE_GENRES"})}),[]),c=(0,u.useCallback)((function(){r({type:"TOGGLE_YEARS"})}),[]);return(0,m.jsxs)("div",{className:"filter_list",children:[(0,m.jsx)(Z.Z,{onToggleSortList:i,onSortData:s.handleSortTvSeries,mediaType:"tv",year:s.year,genre:s.genre,isSort:n.isSort}),(0,m.jsx)(S.Z,{onToggleGenres:o,onDiscoverGenres:s.discoverGenresHandler,genresList:e.genres,mediaType:"tv",sortValue:s.sortBy,year:s.year,isGenre:n.isGenre}),(0,m.jsx)(j.Z,{onToggleYears:c,onSelectYear:s.selectYearHandler,startYear:1944,isYear:n.isYear,mediaType:"tv",sortValue:s.sortBy,genre:s.genre})]})},C=a(2029),N=a(2646),k=a(2330),b=v.d.base_url,G=v.d.API_KEY,w=function(){var e=(0,u.useContext)(f),t=e.tvSeriesList,a=e.sortBy,s=e.genre,i=e.year,o=e.pageChange,l=e.totalPages,p=(0,d.i)().sendRequest,g=function(e){var t=e.results.map((function(e){return(0,c.Z)((0,c.Z)({},e),{},{media_type:"tv"})}));o({results:t,totalPages:e.total_pages>=500?500:e.total_pages})},v=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.selected+1,p({url:"".concat(b,"discover/tv?api_key=").concat(G).concat(a,"&page=").concat(r).concat(i,"\n        ").concat(s,"&with_watch_monetization_types=flatrate")},g);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=t.length>0;return(0,m.jsxs)("div",{className:"filtered_media_list",children:[_&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C.Z,{children:t.map((function(e){return(0,m.jsx)(N.Z,{movie:e},e.id)}))}),(0,m.jsx)(k.Z,{pageCount:l,onPageChange:v})]}),!_&&(0,m.jsx)("h2",{className:"text-center",children:"No tv series found!"})]})},P=a(8510),T=function(){var e=(0,s.f_)().genres,t="loading"===(0,s.HJ)().state;return(0,m.jsxs)(m.Fragment,{children:[t&&(0,m.jsx)(P.Z,{}),(0,m.jsx)(o.Z,{children:(0,m.jsxs)(y,{children:[(0,m.jsx)(E,{genres:e}),(0,m.jsx)(w,{})]})})]})};function L(){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/tv/list?api_key=".concat(v.d.API_KEY));case 2:if(200===(t=e.sent).status){e.next=5;break}throw(0,i.AV)({message:"could not fetch the tv series genres list!"},{status:t.status});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=650.aa773001.chunk.js.map