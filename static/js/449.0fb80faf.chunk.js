"use strict";(self.webpackChunknetflix_app=self.webpackChunknetflix_app||[]).push([[449],{9449:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var s=t(7689),a=t(9434),i=t(2938),r=t(134),c=t(2640),o=t(4165),l=t(5861),d=t(9439),m=t(2791),u=t(1087),f=t(7804),x=t(9559),h=t(3632),j=t(6355),v=t(184),p=function(e){var n=e.item,t=e.onOpenModal,s=e.loading,a=n.release_date?n.release_date.slice(0,4):null;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)(u.rU,{to:"/".concat(n.media_type,"/").concat(n.id,"?details=cast"),className:"title_link",children:(0,v.jsx)("h3",{children:n.title||n.name})}),(0,v.jsx)("p",{className:"description",children:n.overview}),(0,v.jsxs)("div",{className:"info",children:[n.release_date&&(0,v.jsx)("span",{children:a}),(0,v.jsx)(f.Z,{rating:n.vote_average})]})]}),(0,v.jsxs)(x.Z,{onClick:t,children:[!s&&(0,v.jsx)(j.Xm5,{}),s&&(0,v.jsx)(h.Z,{})]})]})},g=t(6364),_=t(5691),Z=t(9119),N=function(e){return(0,v.jsx)(g.Z,{onCloseModal:e.onCloseConfirm,children:(0,v.jsx)(_.Z,{children:(0,v.jsxs)("div",{className:"confirm_content",children:[(0,v.jsx)("div",{className:"icon",children:(0,v.jsx)(j.GPV,{fontSize:"2rem"})}),(0,v.jsx)("p",{className:"message",children:e.massage}),(0,v.jsxs)(Z.Z,{onClick:e.onRemove,children:[!e.loading&&e.btnLabel,e.loading&&(0,v.jsx)(h.Z,{})]})]})})})},k=t(9085),C=t(2685),b=t(77),w=t(644).d.baseImageUrl,y=function(e){var n=e.item,t=(0,m.useState)(!1),s=(0,d.Z)(t,2),r=s[0],c=s[1],f=(0,m.useState)(!1),x=(0,d.Z)(f,2),h=x[0],j=x[1],g=(0,a.I0)(),_=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,(0,C.Od)((0,C.iU)(b.t,"favorites/".concat(n.firebaseId))).then((function(){g((0,i.wR)(n.id)),k.Am.success("".concat(n.title||n.name," removed successfully from favorites"),{position:"top-center",autoClose:3e3,theme:"dark"})})).catch((function(e){}));case 3:c(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z="".concat(w).concat(n.poster_path),y={backgroundImage:"url(".concat(Z,")")},I="are you sure you want remove ".concat(n.title||n.name," from favorites?");return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{className:"favorite_item",children:[(0,v.jsx)(u.rU,{to:"/".concat(n.media_type,"/").concat(n.id,"?details=cast"),className:"card_link",children:(0,v.jsx)("div",{className:"card_img",style:y})}),(0,v.jsx)(p,{item:n,onOpenModal:function(){return j(!0)}})]}),h&&(0,v.jsx)(N,{massage:I,btnLabel:"remove",loading:r,onCloseConfirm:function(){return j(!1)},onRemove:_})]})},I=function(e){var n=e.favoriteList;return n.length>0?(0,v.jsx)("ul",{className:"favorite_list",children:n.map((function(e){return(0,v.jsx)(y,{item:e},e.id)}))}):(0,v.jsx)("h2",{className:"text-center",children:"there are no items"})},L=t(8510),U=function(){var e=(0,a.v9)(i.Jz).items,n="loading"===(0,s.HJ)().state;return(0,v.jsxs)(v.Fragment,{children:[n&&(0,v.jsx)(L.Z,{}),(0,v.jsx)("section",{className:"favorite_media",children:(0,v.jsxs)(r.Z,{children:[(0,v.jsx)(c.Z,{title:"favorite media"}),(0,v.jsx)(I,{favoriteList:e})]})})]})}}}]);
//# sourceMappingURL=449.0fb80faf.chunk.js.map