"use strict";(self.webpackChunknetflix_app=self.webpackChunknetflix_app||[]).push([[883],{3774:function(e,a,r){var t=r(1087),n=r(644),c=r(184);a.Z=function(e){var a=e.actor,r={backgroundImage:"url(".concat(n.d.baseImageUrl).concat(a.profile_path,")")};return(0,c.jsx)(t.rU,{to:"/person/".concat(a.id),className:"actor card_img",style:r,children:(0,c.jsx)("div",{className:"name",children:(0,c.jsx)("h5",{children:a.name})})})}},2029:function(e,a,r){var t=r(184);a.Z=function(e){var a=e.children;return(0,t.jsx)("div",{className:"grid_layout",children:a})}},2330:function(e,a,r){var t=r(6048),n=r.n(t),c=r(7692),s=r(184);a.Z=function(e){return(0,s.jsx)("div",{className:"pagination_container",children:(0,s.jsx)(n(),{previousLabel:(0,s.jsx)(c.Wpx,{fontSize:"20px"}),nextLabel:(0,s.jsx)(c.Cou,{fontSize:"20px"}),breakLabel:"...",pageCount:e.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:1,containerClassName:"pagination",onPageChange:e.onPageChange,pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item break",breakLinkClassName:"page-link",ariaLabelBuilder:e.currentPage})})}},5883:function(e,a,r){r.r(a),r.d(a,{default:function(){return A}});var t=r(7689),n=r(9439),c=r(2791),s=r(1413),u={searchData:null,searchValue:"",searchCategory:"movie",isLoading:!1,hasError:!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;return"UPDATE_SEARCH_VALUE"===a.type?(0,s.Z)((0,s.Z)({},e),{},{searchValue:a.searchValue}):"UPDATE_CATEGORY"===a.type?(0,s.Z)((0,s.Z)({},e),{},{searchCategory:a.category}):"UPDATE_DATA"===a.type?(0,s.Z)((0,s.Z)({},e),{},{searchData:a.data}):e},i=c.createContext(),l=r(184),p=function(e){var a=e.children,r=(0,c.useReducer)(o,u),t=(0,n.Z)(r,2),s=t[0],p=t[1],h=(0,c.useCallback)((function(e){p({type:"UPDATE_SEARCH_VALUE",searchValue:e})}),[]),d=(0,c.useCallback)((function(e){p({type:"UPDATE_CATEGORY",category:e})}),[]),g=(0,c.useCallback)((function(e){p({type:"UPDATE_DATA",data:e})}),[]),f={searchData:(0,c.useMemo)((function(){return s.searchData}),[s.searchData]),searchValue:s.searchValue,searchCategory:s.searchCategory,updateSearchValue:h,updateSearchCategory:d,updateSearchData:g};return(0,l.jsx)(i.Provider,{value:f,children:a})},h=r(134),d=r(4165),g=r(5861),f=r(644),x=["movie","tv","actors"],m=function(e){var a=(0,c.useState)(0),r=(0,n.Z)(a,2),t=r[0],u=r[1],o=e.searchValue,i=e.onUpdateSearchCategory,p=e.onUpdateSearchData,h=function(){var e=(0,g.Z)((0,d.Z)().mark((function e(a,r){var t,n,c,l;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(r),i(a),o){e.next=4;break}return e.abrupt("return");case 4:return t="actors"===a?"person":a,e.prev=5,e.next=8,fetch("".concat(f.d.base_url,"/search/").concat(t,"?api_key=").concat(f.d.API_KEY,"&query=").concat(o));case 8:if(200===(n=e.sent).status){e.next=11;break}throw new Error("error");case 11:return e.next=13,n.json();case 13:c=e.sent,l=c.results.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{media_type:t})})),p((0,s.Z)((0,s.Z)({},c),{},{results:l})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(a,r){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{className:"search_tabs",children:(0,l.jsx)("ul",{className:"tabs_list",children:x.map((function(e,a){return(0,l.jsx)("li",{children:(0,l.jsx)("button",{type:"button",className:"tab_btn ".concat(a===t?"active":""),onClick:function(){return h(e,a)},children:e})},e)}))})})},v=c.memo(m),y=r(3995),C=function(e){var a=e.searchCategory,r=e.onUpdateSearchValue,t=e.onUpdateSearchData,n=(0,y.i)().sendRequest,c=function(e,a){var r=a.results.map((function(a){return(0,s.Z)((0,s.Z)({},a),{},{media_type:e})}));t((0,s.Z)((0,s.Z)({},a),{},{results:r}))},u=function(){var e=(0,g.Z)((0,d.Z)().mark((function e(s){var u,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=s.target.value,r(u),u){e.next=5;break}return t(null),e.abrupt("return");case 5:o="actors"===a?"person":a,n({url:"".concat(f.d.base_url,"/search/").concat(o,"?api_key=").concat(f.d.API_KEY,"&query=").concat(u)},c.bind(null,o));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,l.jsx)("div",{className:"search_input",children:(0,l.jsx)("input",{type:"text",name:"search-input",placeholder:"Search in ScreenX",onChange:u})})},Z=c.memo(C),j=r(2029),_=r(2646),b=r(3774),k=r(2330),D=function(e){var a,r=e.data,t=e.category,n=e.value,c=e.onUpdateSearchData;a=r.results.length>0?(0,l.jsx)(j.Z,{children:r.results.map((function(e){return"person"===e.media_type?(0,l.jsx)(b.Z,{actor:e},e.id):(0,l.jsx)(_.Z,{movie:e},e.id)}))}):(0,l.jsx)("h2",{className:"text-center",children:"no results found!"});var u=function(){var e=(0,g.Z)((0,d.Z)().mark((function e(a){var r,u,o,i,l;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.selected+1,u="actors"===t?"person":t,e.next=4,fetch("".concat(f.d.base_url,"/search/").concat(u,"?api_key=").concat(f.d.API_KEY,"&query=").concat(n,"&page=").concat(r));case 4:if(200===(o=e.sent).status){e.next=7;break}throw new Error("error");case 7:return e.next=9,o.json();case 9:i=e.sent,l=i.results.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{media_type:u})})),c((0,s.Z)((0,s.Z)({},i),{},{results:l}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,l.jsxs)("section",{className:"search_results",children:[(0,l.jsx)(h.Z,{children:a}),r.results.length>0&&(0,l.jsx)(k.Z,{pageCount:r.total_pages,onPageChange:u})]})},S=c.memo(D),N=function(){var e=(0,c.useContext)(i),a=e.searchData,r=e.searchValue,t=e.searchCategory,n=e.updateSearchValue,s=e.updateSearchCategory,u=e.updateSearchData;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("section",{className:"search_wrapper",children:(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(v,{searchValue:r,onUpdateSearchCategory:s,onUpdateSearchData:u}),(0,l.jsx)(Z,{searchCategory:t,onUpdateSearchValue:n,onUpdateSearchData:u})]})}),a&&(0,l.jsx)(S,{data:a,category:t,value:r,onUpdateSearchData:u})]})},U=r(8510),A=function(){var e="loading"===(0,t.HJ)().state;return(0,l.jsxs)(l.Fragment,{children:[e&&(0,l.jsx)(U.Z,{}),(0,l.jsx)(p,{children:(0,l.jsx)(N,{})})]})}}}]);
//# sourceMappingURL=883.135caa05.chunk.js.map